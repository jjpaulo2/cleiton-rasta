services:

  bot:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        USER: ${USER}
    restart: unless-stopped
    volumes:
      - ${HOME}/.oci:/home/${USER}/.oci
    environment:
      DISCORD_TOKEN: ${DISCORD_TOKEN}
      DISCORD_GUILD_ID: ${DISCORD_GUILD_ID}
      DISCORD_ADMIN_ROLE_ID: ${DISCORD_ADMIN_ROLE_ID}
      DISCORD_MINECRAFT_CHANNEL_ID: ${DISCORD_MINECRAFT_CHANNEL_ID}
      MACHINE_ID: ${MACHINE_ID}
